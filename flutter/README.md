# Flutter bindings

This folder holds the Dart bindings generated by Flutter Rust Bridge (FRB) plus a small wrapper that constructs a `G2pModelConfig` from a Flutter-provided asset root.

## Codegen

FRB reads the Rust API from `crate::api` in `rust/g2p_ffi` and writes Dart outputs to `flutter/lib/src/` using `flutter/flutter_rust_bridge.yaml`.

```bash
flutter_rust_bridge_codegen generate --config-file flutter/flutter_rust_bridge.yaml
```

Notes:
- FRB requires the Dart/Flutter toolchain on your machine to run codegen.
- `tvm-ffi-config` must be on `PATH` (e.g., `python/.pixi/envs/default/bin`) because FRB runs `cargo expand` on the Rust crate during codegen.

## Minimal usage

```dart
import 'package:charsiug2p_flutter/charsiug2p_flutter.dart';

Future<void> runG2p() async {
  // assetRoot should contain tokenizers/ and tvm/ subfolders.
  final assetRoot = '/path/to/app/assets';

  await CharsiuG2p.init();
  final g2p = await CharsiuG2p.load(assetRoot: assetRoot);
  final phones = await g2p.run(['Char', 'siu'], 'eng-us');
  print(phones);
}
```
